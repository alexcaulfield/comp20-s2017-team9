<!DOCTYPE html>
<html>
<head>
  <title>Pop Quiz Scoreboard</title>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <link rel ="stylesheet" href="bootstrap.css">
  <link rel="stylesheet" type="text/css" href="main.css">
  <link rel="shortcut icon" type="image/png" href="logo.png">

<!--  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>-->

  <script type="text/javascript">
    $(document).ready(function(){
      $('navbar-collapse').dropdown()
    });
  </script>
</head>
<body>
    <nav class="navbar navbar-default" role="navigation">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-brand-centered">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand navbar-brand-centered"><a href="index.html">Pop Quiz</a></div>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="navbar-brand-centered">
        <ul class="nav navbar-nav navbar-left">
          <li><a href="howto.html">How to Play</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="game.html">Game</a></li>
          <li class="active"><a href="#">Scoreboard</a></li>           
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>

  <script>
    var xhr = new XMLHttpRequest();

    function getScores(){
      xhr.open('GET', 'https://pop-quiz-dj.herokuapp.com/getScore');
      xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhr.onreadystatechange = function(){
        if(xhr.readyState == 4){
          populateScoreboard(xhr.responseText);
        }
      }
      xhr.send("");
    }
  
    function populateScoreboard(responseText){
      var username = null;
      var score = 0;
      var data = JSON.parse(responseText);

      for (var i = data.length - 1; i >= 0; i--) {
        username = data[i].username;
        score = data[i].score;
      };

    }
  </script>

  <div class="container">
    <h2>Global Leaders</h2>          
    <table id="scoretable" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Score</th>
          <th>DJ Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>420</td>
          <td>Ollie</td>
        </tr>
        <tr>
          <td>2</td>
          <td>200</td>
          <td>Jerry</td>
        </tr>
        <tr>
          <td>3</td>
          <td>190</td>
          <td>Brock</td>
        </tr>
      </tbody>
    </table>
  </div>

</body>
</html>